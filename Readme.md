# Проєкт "Університет" з PostgreSQL в Docker-контейнері
Цей проєкт представляє собою систему управління даними для університету, включаючи базу даних, заповнення її фейковими даними та виконання різних SQL-запитів до бази даних. Для роботи з базою даних використовується PostgreSQL в Docker-контейнері. Міграції бази даних здійснюються за допомогою Alembic.

## Файли проєкту

- `connect_db.py`: Встановлює підключення до бази даних PostgreSQL за допомогою SQLAlchemy та створює сеанс для роботи з нею.

- `constants.py`: Містить константи, такі як кількість груп, предметів, вчителів, студентів і оцінок, які використовуються для генерації фейкових даних.

- `models.py`: Містить опис структури таблиць бази даних за допомогою SQLAlchemy, включаючи таблиці для груп, вчителів, предметів, студентів та оцінок.

- `seeds.py`: Заповнює базу даних фейковими даними. Генерує фейкові дані для груп, вчителів, предметів, студентів і оцінок, а потім вставляє їх у відповідні таблиці бази даних.

- `main.py`: Містить запити SQL до бази даних для виконання різних операцій, таких як отримання середнього балу, вибірка даних за різними критеріями тощо.

- `alembic`: Папка, яка містить файли для міграції бази даних за допомогою Alembic. Включає файли для ініціалізації Alembic та створення початкової міграції.

## Вимоги
Перш ніж розпочати використання цього проєкту, переконайтеся, що у вас встановлено наступне програмне забезпечення:

- Docker
- Python
- SQLAlchemy
- Alembic
- PostgreSQL

## Налаштування PostgreSQL в Docker

1. Запустіть PostgreSQL сервер в Docker-контейнері за допомогою наступної команди:
docker run --name university-postgres -e POSTGRES_PASSWORD=1234word -d -p 5432:5432 postgres

Для цілей проєкту встановлено пароль 1234word. Можете змінити його за власними потребами.

2. Після успішного запуску контейнера PostgreSQL, ви можете підключитися до бази даних за допомогою наступного URL:

postgresql://postgres:1234word@localhost/university

## Міграції Бази Даних

Міграції бази даних в цьому проєкті здійснюються за допомогою Alembic. Переконайтеся, що ви встановили Alembic, а також маєте структуру таблиць, описану в файлі models.py. Якщо це вже зроблено, виконайте наступні кроки:

1. Перейдіть у кореневий каталог проєкту.

2. Ініціалізуйте Alembic, створивши папку alembic та файл alembic.ini:

alembic init alembic

3. Змініть налаштування підключення до бази даних у файлі alembic.ini на таке:

sqlalchemy.url = postgresql://postgres:1234word@localhost/university

4. Запустіть команду Alembic для створення початкової міграції:

alembic revision -m "initial"

5. Після створення початкової міграції, використовуйте команди Alembic для оновлення бази даних:

alembic upgrade head - для оновлення бази даних до останньої версії міграції.
alembic downgrade -1 - для відкату бази даних на одну міграцію назад.

## Використання проєкту

Запустіть seeds.py для створення бази даних зі структурою таблиць та заповнення її фейковими даними:

python seeds.py

Використовуйте main.py для виконання різних SQL-запитів до бази даних. 
Для різних запитів змінюйте номер запиту від 1 до 12.

## Автор
Устименко Оксана Борисівна

## Ліцензія
Цей проєкт розповсюджується під ліцензією MIT License.